<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Going Live - Thomas Ruiz Blog</title>
    
    <meta name="description" content="Here we go! It&rsquo;s about time I finally start blogging. I always wanted to write about my work and shamelessly rant about things I hate. Because, let&rsquo;s be honest, there&rsquo;s a lot to hate in our field.
Anyway, here I am, after a few years of thinking about it, deploying my first CMS to github pages. Let&rsquo;s see why and how I did that.
Choices are hard I&rsquo;ve already written a few articles on the web.">
    <meta name="author" content="">
    
    <link href="https://blog.thomasruiz.fr/css/github-gist.min.css" rel="stylesheet">
    <link href="https://blog.thomasruiz.fr/css/style.css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://blog.thomasruiz.fr/img/apple-touch-icon.png">
    <link rel="icon" href="https://blog.thomasruiz.fr/img/favicon.ico">
    
    <meta name="generator" content="Hugo 0.55.6" />
    
    <link rel="alternate" type="application/atom+xml" href="https://blog.thomasruiz.fr/index.xml" title="Thomas Ruiz Blog">
    
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-83359557-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
    <link href="https://blog.thomasruiz.fr/css/custom.css" rel="stylesheet">

  </head>
  <body class="single">
    <header class="header">
      <div class="wrap">
        
        <p class="logo"><a href="https://blog.thomasruiz.fr/">Thomas Ruiz Blog</a></p>
        
        
        <button class="menu-toggle" type="button"></button>
        
      </div>
    </header>
    
    <nav class="nav">
      <ul class="menu">
        
        <li>
          <a href="/pages/about-me">about me</a>
        </li>
        
      </ul>
    </nav>
    
    <main class="main">


<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">Going Live</h1>
    <div class="post-meta">06 August 2019</div>
  </header>
  <div class="post-content">

<h1 id="here-we-go">Here we go!</h1>

<p>It&rsquo;s about time I finally start blogging. I always wanted to write about my work and shamelessly rant about things I hate. Because, let&rsquo;s be honest, there&rsquo;s <strong>a lot</strong> to hate in our field.</p>

<p>Anyway, here I am, after a few years of thinking about it, deploying my first CMS to github pages. Let&rsquo;s see why and how I did that.</p>

<h2 id="choices-are-hard">Choices are hard</h2>

<p>I&rsquo;ve already written a few articles on the web. <a href="https://medium.com/neoxia/une-introduction-à-larchitecture-en-microservices-serverless-45d2e89c3c1f">One is on Medium</a> (it&rsquo;s an interview, but still relevant!), and <a href="https://www.journaldunet.com/solutions/expert/70213/5-prerequis-indispensables-a-une-demarche-de-developpement-de-microservices.shtml">one is published</a> to several online newspapers (all in french, sorry!).</p>

<p>When you want to start blogging, you have several different options available to you. You can choose to write on an existing blogging platform, use a CMS, <em>write your own platform</em>,&hellip; Let&rsquo;s see the pros and cons relevant to me.</p>

<h3 id="existing-blogging-platform">Existing blogging platform</h3>

<h4 id="pros">Pros</h4>

<ul>
<li>It&rsquo;s really easy to get started</li>
<li>It&rsquo;s mostly free</li>
<li>You have nothing to do but write content</li>
<li>Recognition is easier</li>
<li>There are tons of features</li>
</ul>

<h4 id="cons">Cons</h4>

<ul>
<li>Someone else owns your stuff and makes money out of it</li>
<li>You cannot change anything about the platform</li>
<li>There can be bad features and missing ones</li>
<li>Quality is very relative</li>
</ul>

<h3 id="cms">CMS</h3>

<h4 id="pros-1">Pros</h4>

<ul>
<li>It&rsquo;s moderately easy to get started</li>
<li>It <em>can</em> be free</li>
<li>You can change everything on it, with a little bit of work</li>
<li>You&rsquo;re not bound to another company</li>
</ul>

<h4 id="cons-1">Cons</h4>

<ul>
<li>You gotta find something that suits your needs</li>
<li>You&rsquo;re responsible for SEO, security, hosting (not always),&hellip;</li>
</ul>

<h3 id="diy">DIY</h3>

<h4 id="pros-2">Pros</h4>

<ul>
<li>&hellip; I guess it&rsquo;s fun to build things? But you won&rsquo;t be writing anything anytime soon</li>
</ul>

<h4 id="cons-2">Cons</h4>

<ul>
<li>It&rsquo;s costly, in time and money</li>
<li>You have to do everything</li>
<li>I thought you wanted to blog?</li>
<li>Let&rsquo;s just say that it&rsquo;s a bad idea</li>
</ul>

<h3 id="so-which-one">So, which one?</h3>

<p>In the end, it&rsquo;s a matter of what you prefer. I honestly like blogging platforms, due to their simplicity, but let&rsquo;s be honest: I love golang, I heard only good things about Hugo, so it&rsquo;s time to give it some love as well. And here I am, installing Hugo with a simple <code>yay hugo</code> (yes, I&rsquo;m on archlinux), and starting a new blog: <code>hugo new site blog</code>.</p>

<h2 id="hugo">Hugo</h2>

<h3 id="the-theme">The theme</h3>

<p>Once my blog was created, I had to choose a theme. After a few minutes of indecision, I chose a simple but efficient one: Paper.</p>

<pre><code class="language-bash">$ git init
$ git submodule add https://github.com/nanxiaobei/hugo-paper themes/hugo-paper
$ echo 'theme = &quot;hugo-paper&quot;' &gt;&gt; config.toml
</code></pre>

<figure class="image-center">
    <img src="/posts/2019-08/going-live-files/it-works.png"/> <figcaption>
            <h4>And voilà, it works!</h4>
        </figcaption>
</figure>


<h3 id="a-simple-page">A simple page</h3>

<p>Okay, that was easy. What&rsquo;s next? How about an about me page: <code>hugo new pages/about-me</code> creates a MarkDown file in the content/pages directory. Writing a few things and boom, got myself a page. I apparently have a few things to add to the configuration.</p>

<h4 id="configuration">Configuration</h4>

<p>First, I want to replace my base url and title. Yeah, that&rsquo;s a lot of backslashes, but I&rsquo;m making this for you guys. Obviously, you can use any editor, as I did, but now you know how to replace some text in a file with a shell.</p>

<pre><code class="language-bash">$ sed -i s/http:\\/\\/example.org\\//https:\\/\\/blog.thomasruiz.fr\\// config.toml
$ sed -i s/My\ New\ Hugo\ Site/Thomas\ Ruiz\ Blog/ config.toml
</code></pre>

<p>Next, I want to change my date format. A quick duckduckgo search lead me to this:</p>

<pre><code class="language-bash">$ tee -a config.toml

[params]
  dateFormat = &quot;02 January 2006&quot;
</code></pre>

<p>We&rsquo;re civilized, so we space out things. Why Jan 2 2006, you asked? <a href="https://golang.org/pkg/time/#pkg-constants">Because it&rsquo;s simply 1 2 3 4 5 6 7</a>.</p>

<h4 id="custom-css">Custom CSS</h4>

<p>My page could use some custom css too, so how does this work? Documentation is boring, let&rsquo;s figure out how that theme works.</p>

<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{ if eq (getenv &#34;HUGO_ENV&#34;) &#34;production&#34; | or (eq .Site.Params.env &#34;production&#34;) }}
{{ template &#34;_internal/google_analytics_async.html&#34; . }}
{{ end }}
{{ partial &#34;header-include.html&#34; . }}
&lt;/<span style="color:#f92672">head</span>&gt;</code></pre></td></tr></table>
</div>
</div>

<p>Hey, cool! There&rsquo;s even a google analytics thing I can use. I&rsquo;d love to use Matomo, but I really don&rsquo;t want to spin up a server for this. Anyway.</p>

<p>The interesting part is the partial line. Apparently, it&rsquo;s including some <code>header-include.html</code> file. Let&rsquo;s create one in <code>/layouts/partials</code>, just like the theme does, and include my css file.</p>

<div class="gif-container">
    <video autoplay loop muted playsinline>
        
        <source src="https://media.giphy.com/media/2yIf8GM4TBa0g/giphy.mp4" type="video/mp4">
        <img src="https://media.giphy.com/media/2yIf8GM4TBa0g/giphy.gif" title="Your browser does not support html5 videos.">
        
    </video>
</div>

<p>Splendid! It works!</p>

<h4 id="menus">Menus</h4>

<p>Last but not least, my page cannot be accessed from anywhere, so how do you do menus? Again, duckduckgo told me everything:</p>

<pre><code class="language-bash">$ tee -a config.toml &lt;

[menu]
  [[menu.main]]
    identifier = &quot;about&quot;
    name = &quot;about me&quot;
    url = &quot;/pages/about-me&quot;
</code></pre>

<p>Now, I can start typing this blog post with a simple <code>hugo new posts/2019-08/going-live</code>.</p>

<h2 id="live">Live!</h2>

<p>I had to fix and figure out a few things, but overall it worked as expected. Now I&rsquo;ve decided to deploy to github pages. Let&rsquo;s go! <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">There&rsquo;s even a guide</a> explaining everything, great.</p>

<p>After a few clicks creating repositories, a few commands and some tweakering of DNS settings, we&rsquo;re live!</p>

<p>I hope you liked what you read. There&rsquo;s still a few things I need to do, like setting up google analytics and a RSS flux.</p>
</div>
  <footer class="post-footer">
    
  </footer>
  
  
  
  
</article>

</main>
<footer class="footer">
  <span>&copy; 2019 <a href="https://blog.thomasruiz.fr/">Thomas Ruiz Blog</a></span>
  <span>&middot;</span>
  <span>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</span>
  <span>&middot;</span>
  <span>Theme️ <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper</a></span>
</footer>
<script src="https://blog.thomasruiz.fr/js/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>
<script src="https://blog.thomasruiz.fr/js/highlight.min.js" data-no-instant></script>
<script data-no-instant>
  let body;
  function menuToggleListener() {
    body.classList.toggle('blur');
  }
  function setMenuToggleListener() {
    const menuToggle = document.querySelector('.menu-toggle');
    if (!menuToggle) return;
    body = document.querySelector('body');
    menuToggle.addEventListener('click', menuToggleListener);
  }

  hljs.initHighlightingOnLoad();
  setMenuToggleListener();

  InstantClick.on('change', function () {
    document.querySelectorAll('pre code').forEach((block) => {
      hljs.highlightBlock(block);
    });
    setMenuToggleListener();
  });
</script>
</body>
</html>

